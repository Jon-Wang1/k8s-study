### Prometheus静态配置
```shell
#首先创建一个空文件，然后通过该文件创建一个Secret,那么这个Secret即可作为Prometheus的静态配置：
touch prometheus-additional.yaml
kubectl create secret generic additional-configs --from-file=prometheus-additional.yaml -n monitoring
#创建完Secret后，需要编辑下Prometheus配置：
kubectl edit prometheus -n monitoring k8s
```
在spec内添加以下内容：
```yaml
  additionalScrapeConfigs:
    key: prometheus-additional.yaml
    name: additional-configs
    optional: true
```
编辑静态配置文件  
配置示例：https://github.com/prometheus/blackbox_exporter
```yaml
cat > prometheus-additional.yaml <<EOF
- job_name: 'blackbox'
  metrics_path: /probe
  params:
    module: [http_2xx] # Look for a HTTP 200
  static_configs:
  - targets:
    - http://www.163.com # Target to probe with http.
    - https://www.baidu.com # Target to probe with https.
  relabel_configs:
  - source_labels: [__address__]
    target_label: __param_target
  - source_labels: [__param_target]
    target_label: instance
  - target_label: __address__
    replacement: blackbox-exporter:19115
EOF
```
#### 更新该Secret：
```shell
kubectl create secret generic additional-configs --from-file=prometheus-additional.yaml \
  --dry-run=client -o yaml | kubectl replace -f - -n monitoring
```
更新完成后，稍等一分钟即可在Prometheus Web UI看到该配置
监控状态UP后，导入黑盒监控的模板（https://grafana.com/grafana/dashboards/13659）即可：